{"filter":false,"title":"compare_float.php","tooltip":"/compare_float.php","ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":27,"column":44},"end":{"row":27,"column":44},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"hash":"43638f4e39050c966d4071c43c5f93c5873afbb1","mime":"application/octet-stream","undoManager":{"mark":12,"position":12,"stack":[[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["<"],"id":1},{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"insert","lines":["p"]},{"start":{"row":0,"column":2},"end":{"row":0,"column":3},"action":"insert","lines":["h"]},{"start":{"row":0,"column":3},"end":{"row":0,"column":4},"action":"insert","lines":["p"]}],[{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"insert","lines":["?"],"id":2}],[{"start":{"row":0,"column":5},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":3}],[{"start":{"row":1,"column":0},"end":{"row":4,"column":0},"action":"insert","lines":["echo \"普通に比較\\n\";","$f = 0.3;","var_dump($f === 0.3);",""],"id":4}],[{"start":{"row":4,"column":0},"end":{"row":12,"column":21},"action":"insert","lines":["echo \"普通に比較\\n\";","$f = 0.3;","var_dump($f === 0.3);","","//","echo \"\\n\";","echo \"0.1+0.2 と 0.3 を比較\\n\";","$f = 0.1 + 0.2;","var_dump($f === 0.3);"],"id":5}],[{"start":{"row":12,"column":21},"end":{"row":13,"column":0},"action":"insert","lines":["",""],"id":6}],[{"start":{"row":13,"column":0},"end":{"row":16,"column":30},"action":"insert","lines":["echo \"\\n\";","echo \"0.1+0.2 と 0.3 をprintfで表示\\n\";","printf(\"0.1+0.2: %f \\n\", $f);","printf(\"    0.3: %f \\n\", 0.3);"],"id":7}],[{"start":{"row":16,"column":30},"end":{"row":17,"column":0},"action":"insert","lines":["",""],"id":8}],[{"start":{"row":17,"column":0},"end":{"row":17,"column":1},"action":"insert","lines":["p"],"id":9},{"start":{"row":17,"column":1},"end":{"row":17,"column":2},"action":"insert","lines":["h"]},{"start":{"row":17,"column":2},"end":{"row":17,"column":3},"action":"insert","lines":["p"]}],[{"start":{"row":17,"column":2},"end":{"row":17,"column":3},"action":"remove","lines":["p"],"id":10},{"start":{"row":17,"column":1},"end":{"row":17,"column":2},"action":"remove","lines":["h"]},{"start":{"row":17,"column":0},"end":{"row":17,"column":1},"action":"remove","lines":["p"]}],[{"start":{"row":17,"column":0},"end":{"row":21,"column":33},"action":"insert","lines":["//","echo \"\\n\";","echo \"0.1+0.2 と 0.3 を高精度のprintfで表示\\n\";","printf(\"0.1+0.2: %.32f \\n\", $f);","printf(\"    0.3: %.32f \\n\", 0.3);"],"id":11}],[{"start":{"row":21,"column":33},"end":{"row":22,"column":0},"action":"insert","lines":["",""],"id":12},{"start":{"row":22,"column":0},"end":{"row":23,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":23,"column":0},"end":{"row":27,"column":44},"action":"insert","lines":["// 精度6桁での正しい比較","echo \"\\n\";","echo \"0.1+0.2 と 0.3 の現実的な比較\\n\";","define('FLOAT_PRECISION', 0.000001); // 精度はあちこちで使うことが予想されるので定数にする","var_dump( abs($f - 0.3) < FLOAT_PRECISION );"],"id":13}]]},"timestamp":1653145650278}